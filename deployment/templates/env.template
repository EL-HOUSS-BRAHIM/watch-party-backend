# Django Settings - Environment Variables Template
# Copy this file to .env and configure with your actual values

# ==============================================
# BASIC CONFIGURATION
# ==============================================

# Environment
ENVIRONMENT=production
DJANGO_SETTINGS_MODULE=config.settings.production

# Security
SECRET_KEY=your-super-secret-key-here-make-it-long-and-random
DEBUG=False
ALLOWED_HOSTS=be-watch-party.brahim-elhouss.me,*.brahim-elhouss.me,127.0.0.1,localhost

# SSL Configuration
SECURE_SSL_REDIRECT=False
USE_HTTPS=True

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# PostgreSQL Database
DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# ==============================================
# REDIS/VALKEY CONFIGURATION (AWS ElastiCache)
# ==============================================

# Redis / Valkey (ElastiCache) - Updated Infrastructure
REDIS_URL=rediss://:AUTH_TOKEN@master.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com:6379/0
REDIS_HOST=master.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=YOUR_VALKEY_AUTH_TOKEN
REDIS_USE_SSL=True

# Redis Reader endpoint (for read operations)
REDIS_READER_URL=rediss://:AUTH_TOKEN@replica.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com:6379/0

# Celery (Uses Redis/Valkey)
CELERY_BROKER_URL=rediss://:AUTH_TOKEN@master.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com:6379/1
CELERY_RESULT_BACKEND=rediss://:AUTH_TOKEN@master.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com:6379/2

# Django Channels Layer (Redis backend DB 3)
CHANNEL_LAYERS_CONFIG_HOSTS=rediss://:AUTH_TOKEN@master.watch-party-valkey.XXXXX.euw3.cache.amazonaws.com:6379/3

# Celery Configuration
CELERY_TASK_ALWAYS_EAGER=False
CELERY_TASK_EAGER_PROPAGATES=True
CELERY_WORKER_CONCURRENCY=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# ==============================================
# AWS CONFIGURATION
# ==============================================

# AWS Credentials (for EC2 IAM roles, these might not be needed)
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_DEFAULT_REGION=eu-west-3

# S3 Storage
USE_S3=True
AWS_STORAGE_BUCKET_NAME=your-s3-bucket-name
AWS_S3_REGION_NAME=eu-west-3
AWS_S3_CUSTOM_DOMAIN=your-cloudfront-domain.cloudfront.net

# ==============================================
# EMAIL CONFIGURATION
# ==============================================

# SMTP Configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=your-email@gmail.com

# ==============================================
# EXTERNAL SERVICES
# ==============================================

# Sentry (Error Monitoring)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Social Authentication
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret

# ==============================================
# CORS AND CSRF CONFIGURATION
# ==============================================

# CORS
CORS_ALLOWED_ORIGINS=https://watch-party.brahim-elhouss.me,https://be-watch-party.brahim-elhouss.me
CORS_ALLOW_CREDENTIALS=True

# CSRF
CSRF_TRUSTED_ORIGINS=https://watch-party.brahim-elhouss.me,https://be-watch-party.brahim-elhouss.me

# ==============================================
# FEATURE FLAGS
# ==============================================

# Analytics
ANALYTICS_RETENTION_DAYS=365

# Video Processing
VIDEO_MAX_FILE_SIZE=5368709120  # 5GB
VIDEO_PROCESSING_TIMEOUT=1800   # 30 minutes

# WebSocket Configuration
WS_MAX_CONNECTIONS_PER_IP=20
WS_HEARTBEAT_INTERVAL=30

# Party Limits
MAX_PARTY_PARTICIPANTS=100

# Machine Learning Features
ML_PREDICTIONS_ENABLED=True

# ==============================================
# LOGGING
# ==============================================

# Log Level
LOG_LEVEL=INFO

# ==============================================
# DEPLOYMENT NOTES
# ==============================================

# 1. Replace all placeholder values with actual configuration
# 2. Ensure all URLs use the correct protocol (http vs https)
# 3. For Redis URLs, make sure to URL-encode special characters in passwords
# 4. Test all external service connections after deployment
# 5. Keep this file secure and never commit it to version control