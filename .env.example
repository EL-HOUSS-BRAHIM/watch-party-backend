# =============================================================================
# WATCH PARTY BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values according to your environment

# =============================================================================
# CORE DJANGO SETTINGS
# =============================================================================
DEBUG=True
SECRET_KEY=your-super-secret-key-here-change-in-production
DJANGO_SETTINGS_MODULE=watchparty.settings.development
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Local Development (PostgreSQL - Recommended)
# Database credentials are retrieved from AWS Secrets Manager in production
DATABASE_URL=postgresql://postgres@localhost:5432/watchparty_dev
DB_NAME=watchparty_dev
DB_USER=postgres
DB_HOST=localhost
DB_PORT=5432

# Production (AWS RDS PostgreSQL with SSL)
# DATABASE_URL=postgresql://username:password@host:5432/dbname?sslmode=require

# Database SSL Configuration (for production)
# DB_SSL_MODE=require
# DB_SSL_CA=/path/to/ca-cert.pem
# DB_SSL_CERT=/path/to/client-cert.pem
# DB_SSL_KEY=/path/to/client-key.pem

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis credentials are resolved via AWS Secrets Manager when deployed
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/2
CELERY_RESULT_BACKEND=redis://localhost:6379/3
CHANNEL_LAYERS_CONFIG_HOSTS=redis://localhost:6379/4

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_REFRESH_SECRET_KEY=your-jwt-refresh-secret-key-change-this
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=7

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_HOST_USER=
EMAIL_USE_TLS=True
DEFAULT_FROM_EMAIL=noreply@watchparty.com

# Production Email (SendGrid)
# EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=your_sendgrid_api_key

# =============================================================================
# STRIPE PAYMENT CONFIGURATION
# =============================================================================
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_SECRET_KEY=sk_test_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# AWS S3 CONFIGURATION
# =============================================================================
# Access keys are provided automatically by the MyAppRole IAM role
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=

# =============================================================================
# SOCIAL AUTHENTICATION
# =============================================================================
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=your_google_oauth_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_oauth_client_secret

# Discord OAuth
DISCORD_OAUTH_CLIENT_ID=your_discord_oauth_client_id
DISCORD_OAUTH_CLIENT_SECRET=your_discord_oauth_client_secret

# GitHub OAuth
GITHUB_OAUTH_CLIENT_ID=your_github_oauth_client_id
GITHUB_OAUTH_CLIENT_SECRET=your_github_oauth_client_secret

# =============================================================================
# GOOGLE SERVICES CONFIGURATION
# =============================================================================
GOOGLE_DRIVE_CLIENT_ID=
GOOGLE_DRIVE_CLIENT_SECRET=
GOOGLE_SERVICE_ACCOUNT_FILE=
YOUTUBE_API_KEY=your_youtube_api_key

# =============================================================================
# FIREBASE MOBILE PUSH NOTIFICATIONS
# =============================================================================
FIREBASE_TYPE=service_account
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY_ID=your_private_key_id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour_private_key_here\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@your_project.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=your_client_id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxx%40your_project.iam.gserviceaccount.com

# Alternative: Firebase credentials file path
FIREBASE_CREDENTIALS_FILE=path/to/firebase-credentials.json

# Push Notification Configuration
PUSH_NOTIFICATION_BATCH_SIZE=100
PUSH_NOTIFICATION_RETRY_ATTEMPTS=3

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# VIDEO PROCESSING CONFIGURATION
# =============================================================================
FFMPEG_BINARY_PATH=/usr/bin/ffmpeg
FFPROBE_BINARY_PATH=/usr/bin/ffprobe
VIDEO_PROCESSING_QUEUE=video_processing
MAX_VIDEO_FILE_SIZE=2147483648
SUPPORTED_VIDEO_FORMATS=mp4,webm,mov,avi,mkv
SUPPORTED_AUDIO_FORMATS=mp3,wav,aac,ogg

# =============================================================================
# ANALYTICS CONFIGURATION
# =============================================================================
ANALYTICS_RETENTION_DAYS=365
ENABLE_REAL_TIME_ANALYTICS=True
ANALYTICS_BATCH_SIZE=1000

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# Production Security (enable in production)
# SECURE_SSL_REDIRECT=True
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_LOGIN=5/min
RATE_LIMIT_API=1000/hour
RATE_LIMIT_UPLOAD=10/hour

# =============================================================================
# MONITORING
# =============================================================================
SENTRY_DSN=
ENVIRONMENT=development

# =============================================================================
# FEATURE FLAGS
# =============================================================================
MAINTENANCE_MODE=False
REGISTRATION_ENABLED=True
GOOGLE_DRIVE_INTEGRATION_ENABLED=True
YOUTUBE_INTEGRATION_ENABLED=True
TWO_FACTOR_AUTH_ENABLED=True

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# WebSocket Configuration
CHANNEL_LAYERS_BACKEND=channels_redis.core.RedisChannelLayer
WEBSOCKET_HEARTBEAT_INTERVAL=30
MAX_PARTY_PARTICIPANTS=100

# Chat Configuration
MAX_CHAT_MESSAGE_LENGTH=1000
CHAT_HISTORY_LIMIT=1000

# Notification Configuration
NOTIFICATIONS_ENABLED=True
EMAIL_NOTIFICATIONS_ENABLED=True

# Celery Configuration
CELERY_TASK_ALWAYS_EAGER=False
CELERY_WORKER_CONCURRENCY=4

# API Configuration
API_VERSION=2.0
API_PAGINATION_MAX_SIZE=100

# Production-only variables (set in production environment)
# GRAFANA_PASSWORD=
# ELASTICSEARCH_PASSWORD=
# BACKUP_ENCRYPTION_KEY=
