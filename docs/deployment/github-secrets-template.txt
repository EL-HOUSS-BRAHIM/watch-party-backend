# =============================================================================
# GITHUB ACTIONS SECRETS TEMPLATE - WATCH PARTY BACKEND
# =============================================================================
# Copy these values to your GitHub repository secrets
# Go to: Settings > Secrets and variables > Actions > New repository secret
# 
# This template matches the exact structure of your working .env file

# =============================================================================
# SERVER CONNECTION (REQUIRED FOR DEPLOYMENT)
# =============================================================================
DEPLOY_HOST=be-watch-party.brahim-elhouss.me
DEPLOY_USER=ubuntu
DEPLOY_PORT=22
SSH_PRIVATE_KEY=-----BEGIN OPENSSH PRIVATE KEY-----
(paste your SSH private key here)
-----END OPENSSH PRIVATE KEY-----

# =============================================================================
# CORE DJANGO SETTINGS (REQUIRED)
# =============================================================================
SECRET_KEY=your-very-secure-secret-key-here
DEBUG=False
DJANGO_SETTINGS_MODULE=watchparty.settings.production
ALLOWED_HOSTS=be-watch-party.brahim-elhouss.me,127.0.0.1,localhost
CSRF_TRUSTED_ORIGINS=https://be-watch-party.brahim-elhouss.me,https://watch-party.brahim-elhouss.me

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ALLOWED_ORIGINS=https://watch-party.brahim-elhouss.me,https://be-watch-party.brahim-elhouss.me
CORS_ALLOW_CREDENTIALS=True

# =============================================================================
# DATABASE (AWS RDS PostgreSQL)
# =============================================================================
DATABASE_URL=postgresql://watchparty_admin:your-password@your-host.rds.amazonaws.com:5432/watchparty_prod?sslmode=require
DATABASE_NAME=watchparty_prod
DATABASE_USER=watchparty_admin
DATABASE_PASSWORD=your-database-password
DATABASE_HOST=your-db-host.rds.amazonaws.com
DATABASE_PORT=5432
DB_SSL_MODE=require

# =============================================================================
# REDIS/VALKEY (AWS ElastiCache)
# =============================================================================
REDIS_URL=rediss://:your-redis-password@your-redis-host.cache.amazonaws.com:6379/0?ssl_cert_reqs=none
REDIS_HOST=your-redis-host.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_USE_SSL=True

# =============================================================================
# CELERY (Uses Redis/Valkey)
# =============================================================================
CELERY_BROKER_URL=rediss://:your-redis-password@your-redis-host.cache.amazonaws.com:6379/2?ssl_cert_reqs=none
CELERY_RESULT_BACKEND=rediss://:your-redis-password@your-redis-host.cache.amazonaws.com:6379/3?ssl_cert_reqs=none

# =============================================================================
# DJANGO CHANNELS LAYER (Redis backend DB 4)
# =============================================================================
CHANNEL_LAYERS_CONFIG_HOSTS=rediss://:your-redis-password@your-redis-host.cache.amazonaws.com:6379/4?ssl_cert_reqs=none

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_HOST=localhost
EMAIL_PORT=25
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@brahim-elhouss.me

# =============================================================================
# AWS S3 (OPTIONAL)
# =============================================================================
# Credentials are provided automatically by the MyAppRole IAM role
USE_S3=False
AWS_STORAGE_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# =============================================================================
# STATIC & MEDIA PATHS
# =============================================================================
MEDIA_URL=/media/
STATIC_URL=/static/
MEDIA_ROOT=/home/ubuntu/watch-party/back-end/media/
STATIC_ROOT=/home/ubuntu/watch-party/back-end/staticfiles/

# =============================================================================
# MONITORING & ENVIRONMENT
# =============================================================================
SENTRY_DSN=
ENVIRONMENT=production

# =============================================================================
# RATE LIMITING / ANALYTICS / VIDEO PROCESSING
# =============================================================================
RATE_LIMIT_ENABLED=True
ANALYTICS_RETENTION_DAYS=365
VIDEO_MAX_FILE_SIZE=5368709120
VIDEO_PROCESSING_TIMEOUT=1800

# =============================================================================
# WEBSOCKET / PARTIES / ML
# =============================================================================
WS_MAX_CONNECTIONS_PER_IP=20
WS_HEARTBEAT_INTERVAL=30
MAX_PARTY_PARTICIPANTS=100
ML_PREDICTIONS_ENABLED=False

# =============================================================================
# CELERY WORKER SETTINGS
# =============================================================================
CELERY_TASK_ALWAYS_EAGER=False
CELERY_TASK_EAGER_PROPAGATES=True
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# =============================================================================
# AWS INFRASTRUCTURE IDS (Reference Only - non-secret)
# =============================================================================
VPC_ID=vpc-02329bf45f051fa03
RDS_SECURITY_GROUP_ID=sg-062535db0d4e19a63
ELASTICACHE_SECURITY_GROUP_ID=sg-04e656800ee20c48b
APPLICATION_SECURITY_GROUP_ID=sg-0761bedcf95617b85

# =============================================================================
# INSTRUCTIONS
# =============================================================================
# 1. Replace all placeholder values with your actual production values
# 2. Keep the exact variable names as shown above
# 3. For sensitive values like passwords and keys, use secure generation methods
# 4. Add each variable as a GitHub Actions secret with the exact name and value
# 5. The deployment script will create a .env file from these secrets
